Neural Network Tools for STM32 v1.4.0 (AI tools v5.2.0)
Created date       : 2021-12-03 15:16:36
Parameters         : generate --name network -m C:/Users/Felix/PycharmProjects/MLES_Homework_03/logs/log_20211203-094915/saved_best_model/model.tflite --type tflite --compression 1 --verbosity 1 --workspace C:\Users\Felix\AppData\Local\Temp\mxAI_workspace10333796703050014481837987278325348 --output C:\Users\Felix\.stm32cubemx

Exec/report summary (generate dur=0.97s err=0)
------------------------------------------------------------------------------------------------------------------------
model file         : C:\Users\Felix\PycharmProjects\MLES_Homework_03\logs\log_20211203-094915\saved_best_model\model.tflite
type               : tflite (tflite) 
c_name             : network
compression        : None
quantize           : None
workspace dir      : C:\Users\Felix\AppData\Local\Temp\mxAI_workspace10333796703050014481837987278325348
output dir         : C:\Users\Felix\.stm32cubemx

model_name         : model
model_hash         : 8de242cc09637b4b674cf5ea8800b1c0
input              : conv2d_input [784 items, 3.06 KiB, ai_float, FLOAT32, (28, 28, 1)]
inputs (total)     : 3.06 KiB
output             : nl_7 [10 items, 40 B, ai_float, FLOAT32, (1, 1, 10)]
outputs (total)    : 40 B
params #           : 35,478 items (138.59 KiB)
macc               : 414,274
weights (ro)       : 141,912 B (138.59 KiB) 
activations (rw)   : 23,680 B (23.12 KiB) 
ram (total)        : 26,856 B (26.23 KiB) = 23,680 + 3,136 + 40

------------------------------------------------------------------------------------------------------------------------
id  layer (type)         output shape      param #     connected to             macc           rom                
------------------------------------------------------------------------------------------------------------------------
0   conv2d_input (Input) (28, 28, 1)                                                                              
    conv2d_0 (Conv2D)    (13, 13, 32)      320         conv2d_input             54,112         1,280              
    nl_0 (Nonlinearity)  (13, 13, 32)                  conv2d_0                                                   
------------------------------------------------------------------------------------------------------------------------
1   conv2d_1 (Conv2D)    (6, 6, 32)        9,248       nl_0                     334,112        36,992             
    nl_1 (Nonlinearity)  (6, 6, 32)                    conv2d_1                                                   
------------------------------------------------------------------------------------------------------------------------
2   pool_2 (Pool)        (3, 3, 32)                    nl_1                                                       
------------------------------------------------------------------------------------------------------------------------
3   reshape_3 (Reshape)  (288,)                        pool_2                                                     
------------------------------------------------------------------------------------------------------------------------
4   dense_4 (Dense)      (70,)             20,230      reshape_3                20,160         80,920             
    nl_4 (Nonlinearity)  (70,)                         dense_4                  70                                
------------------------------------------------------------------------------------------------------------------------
5   dense_5 (Dense)      (70,)             4,970       nl_4                     4,900          19,880             
    nl_5 (Nonlinearity)  (70,)                         dense_5                  70                                
------------------------------------------------------------------------------------------------------------------------
6   dense_6 (Dense)      (10,)             710         nl_5                     700            2,840              
------------------------------------------------------------------------------------------------------------------------
7   nl_7 (Nonlinearity)  (10,)                         dense_6                  150                               
------------------------------------------------------------------------------------------------------------------------
model p=35478(138.59 KBytes) macc=414274 rom=138.59 KBytes ram=23.12 KiB io_ram=3.10 KiB



Generated C-graph summary
------------------------------------------------------------------------------------------------------------------------
model name         : model
c-name             : network
c-node #           : 8
c-array #          : 20
activations size   : 23680
weights size       : 141912
macc               : 414274
inputs             : ['conv2d_input_output_array']
outputs            : ['nl_7_output_array']


C-Arrays (20)
------------------------------------------------------------------------------------------------------------------------
c_id  name (*_array)       item/size           mem-pool     c-type       fmt    comment            
------------------------------------------------------------------------------------------------------------------------
0     conv2d_1_scratch0    384/1536            activations  float        float                     
1     dense_6_bias         10/40               weights      const float  float                     
2     dense_6_weights      700/2800            weights      const float  float                     
3     dense_5_bias         70/280              weights      const float  float                     
4     dense_5_weights      4900/19600          weights      const float  float                     
5     dense_4_bias         70/280              weights      const float  float                     
6     dense_4_weights      20160/80640         weights      const float  float                     
7     conv2d_1_bias        32/128              weights      const float  float                     
8     conv2d_1_weights     9216/36864          weights      const float  float                     
9     conv2d_0_bias        32/128              weights      const float  float                     
10    conv2d_0_weights     288/1152            weights      const float  float                     
11    conv2d_input_output  784/3136            user         float        float  /input             
12    conv2d_0_output      5408/21632          activations  float        float                     
13    conv2d_1_output      288/1152            activations  float        float                     
14    dense_4_output       70/280              activations  float        float                     
15    nl_4_output          70/280              activations  float        float                     
16    dense_5_output       70/280              activations  float        float                     
17    nl_5_output          70/280              activations  float        float                     
18    dense_6_output       10/40               activations  float        float                     
19    nl_7_output          10/40               user         float        float  /output            
------------------------------------------------------------------------------------------------------------------------


C-Layers (8)
------------------------------------------------------------------------------------------------------------------------
c_id  name (*_layer)  id  type              macc        rom         tensors                 shape (array id)                       
------------------------------------------------------------------------------------------------------------------------
0     conv2d_0        0   conv2d            54112       1280        I: conv2d_input_output  [1, 28, 28, 1] (11)                    
                                                                    W: conv2d_0_weights                                            
                                                                    W: conv2d_0_bias                                               
                                                                    O: conv2d_0_output      [1, 13, 13, 32] (12)                   
------------------------------------------------------------------------------------------------------------------------
1     conv2d_1        1   optimized_conv2d  334112      36992       I: conv2d_0_output      [1, 13, 13, 32] (12)                   
                                                                    S: conv2d_1_scratch0                                           
                                                                    W: conv2d_1_weights                                            
                                                                    W: conv2d_1_bias                                               
                                                                    O: conv2d_1_output      [1, 3, 3, 32] (13)                     
------------------------------------------------------------------------------------------------------------------------
2     dense_4         4   dense             20160       80920       I: conv2d_1_output0     [1, 1, 1, 288] (13)                    
                                                                    W: dense_4_weights                                             
                                                                    W: dense_4_bias                                                
                                                                    O: dense_4_output       [1, 1, 1, 70] (14)                     
------------------------------------------------------------------------------------------------------------------------
3     nl_4            4   nl                70          0           I: dense_4_output       [1, 1, 1, 70] (14)                     
                                                                    O: nl_4_output          [1, 1, 1, 70] (15)                     
------------------------------------------------------------------------------------------------------------------------
4     dense_5         5   dense             4900        19880       I: nl_4_output          [1, 1, 1, 70] (15)                     
                                                                    W: dense_5_weights                                             
                                                                    W: dense_5_bias                                                
                                                                    O: dense_5_output       [1, 1, 1, 70] (16)                     
------------------------------------------------------------------------------------------------------------------------
5     nl_5            5   nl                70          0           I: dense_5_output       [1, 1, 1, 70] (16)                     
                                                                    O: nl_5_output          [1, 1, 1, 70] (17)                     
------------------------------------------------------------------------------------------------------------------------
6     dense_6         6   dense             700         2840        I: nl_5_output          [1, 1, 1, 70] (17)                     
                                                                    W: dense_6_weights                                             
                                                                    W: dense_6_bias                                                
                                                                    O: dense_6_output       [1, 1, 1, 10] (18)                     
------------------------------------------------------------------------------------------------------------------------
7     nl_7            7   nl                150         0           I: dense_6_output       [1, 1, 1, 10] (18)                     
                                                                    O: nl_7_output          [1, 1, 1, 10] (19)                     
------------------------------------------------------------------------------------------------------------------------


 
Complexity per-layer - macc=414,274 rom=141,912
------------------------------------------------------------------------------------------------------------------------
id      layer (type)         macc                                    rom                                    
------------------------------------------------------------------------------------------------------------------------
0       conv2d_0 (Conv2D)    |||||                            13.1%  |                                 0.9% 
1       conv2d_1 (Conv2D)    |||||||||||||||||||||||||||||||  80.7%  ||||||||||||||                   26.1% 
4       dense_4 (Dense)      ||                                4.9%  |||||||||||||||||||||||||||||||  57.0% 
4       nl_4 (Nonlinearity)  |                                 0.0%  |                                 0.0% 
5       dense_5 (Dense)      |                                 1.2%  ||||||||                         14.0% 
5       nl_5 (Nonlinearity)  |                                 0.0%  |                                 0.0% 
6       dense_6 (Dense)      |                                 0.2%  ||                                2.0% 
7       nl_7 (Nonlinearity)  |                                 0.0%  |                                 0.0% 
------------------------------------------------------------------------------------------------------------------------


Evaluation report (summary)
---------------------------------------------
NOT EVALUATED
